This file documents the required steps to get the UVIE EGSE software up and running on a freshly installed Linux system (tested on manjaro-xfce-21.3.7 linux5.15).

# PREREQUISITES
1) Get CCS repository
    $> git clone https://gitlab.phaidra.org/mecinam2/CCS.git
    
2) Required packages/devtools
    - make
    - python-pip
    - gtk3
    - python-gobject
    - gtksourceview3 [<=3.24.11-1]
    - mariadb
    - mysql-workbench (optional)

3) Initialise MySQL/MariaDB and set it up

    $> sudo mariadb-install-db --user=mysql --basedir=/usr --datadir=/var/lib/mysql
    $> sudo systemctl enable --now mariadb
    $> sudo mariadb-secure-installation  (optional)
    mysql> CREATE USER 'user'@'localhost' IDENTIFIED BY 'password';
    mysql> GRANT ALL PRIVILEGES ON * . * TO 'user'@'localhost';
    mysql> FLUSH PRIVILEGES;

4) Install Python packages. To install the required modules with pip in userspace or a venv, run
   'make install-python-requirements' in the CCS base directory or use 'pip install [--user] -r requirements.txt'.
   For details, see requirements.txt


# INSTALLATION
In the CCS base directory,

    - first configure the [database] section in egse.cfg!
    - then execute:
    
    $> make install-confignator
    $> make ccs-storage
    $> make codeblockreusefeature
    
# MIB
Use CCS/Ccs/tools/import_mib.py to import a set of SCOS2000 MIB files into the MySQL mib-schema set in egse.cfg

# CCS & TST
./start_ccs: starts the CCS
./start_tst: starts the TST

# TROUBLESHOOTING
If working within a Python venv, you might need to install vext to access the system-site installation of gi:
pip install vext
pip install vext.gi

